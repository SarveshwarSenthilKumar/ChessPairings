{% extends 'base.html' %}

{% block title %}My Tournaments - Chess Tournament Manager{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3 mb-0">My Tournaments</h1>
    <a href="{{ url_for('tournament.create_tournament') }}" class="btn btn-primary">
        <i class="bi bi-plus-circle me-1"></i> Create Tournament
    </a>
</div>

<div class="row">
    {% for tournament in tournaments %}
    <div class="col-md-6 col-lg-4">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <span>{{ tournament.name }}</span>
                <span class="status-badge status-{{ tournament.status }}">
                    {{ tournament.status|title }}
                </span>
            </div>
            <div class="card-body">
                <p class="card-text">{{ tournament.description|default('No description provided.') }}</p>
                <ul class="list-group list-group-flush mb-3">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-calendar-event me-2"></i>Date</span>
                        <span>
                            {{ tournament.start_date }} - {{ tournament.end_date }}
                        </span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-geo-alt me-2"></i>Location</span>
                        <span>{{ tournament.location or 'N/A' }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-people me-2"></i>Players</span>
                        <span>{{ tournament.player_count or 0 }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span><i class="bi bi-clock-history me-2"></i>Time Control</span>
                        <span>{{ tournament.time_control or 'N/A' }}</span>
                    </li>
                </ul>
            </div>
            <div class="card-footer bg-transparent">
                <div class="d-grid gap-2">
                    <a href="{{ url_for('tournament.view_tournament', tournament_id=tournament.id) }}" 
                       class="btn btn-outline-primary">
                        View Tournament
                    </a>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="col-12">
        <div class="card">
            <div class="card-body text-center py-5">
                <i class="bi bi-trophy" style="font-size: 3rem; color: #6c757d;"></i>
                <h3 class="mt-3">No Tournaments Found</h3>
                <p class="text-muted">You haven't created any tournaments yet. Get started by creating your first tournament!</p>
                <a href="{{ url_for('tournament.create_tournament') }}" class="btn btn-primary mt-2">
                    <i class="bi bi-plus-circle me-1"></i> Create Tournament
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Add any JavaScript specific to this page here
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
</script>
{% endblock %}
